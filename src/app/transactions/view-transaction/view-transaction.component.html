<dialog id="view-transaction-{{ transaction.id }}" class="modal">
  <div class="modal-box w-11/12 max-w-5xl">
    <h3 class="font-bold text-gray-800 text-lg">
      Transaction #{{ transaction.id }}
    </h3>

    <table class="table mt-4">
      <thead>
        <tr>
          <th>Details</th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>Borrower's Info</td>
          <td>{{ transaction.borrowerName }} ({{ transaction.borrowerId }})</td>
        </tr>
        <tr>
          <td>Department</td>
          <td>
            {{ transaction.department.name }} ({{
              transaction.department.code
            }})
          </td>
        </tr>
        <tr>
          <td>Device Info</td>
          <td>
            {{ transaction.device.model }} ({{
              transaction.device.category.name
            }})
          </td>
        </tr>
        <tr>
          <td>Tag Number</td>
          <td>{{ transaction.device.tagNumber }}</td>
        </tr>
        <tr>
          <td>Remarks</td>
          <td>{{ transaction.remarks }}</td>
        </tr>
        <tr>
          <td>Processed By</td>
          <td>{{ transaction.user.name }}</td>
        </tr>
        <tr>
          <td>Transaction Date</td>
          <td>{{ transaction.createdAt | date : "MMM d, yyyy, h:mm a" }}</td>
        </tr>
        <tr>
          <td>Returned Date</td>
          <td>
            {{ isReturned() | date : "MMM d, yyyy, h:mm a" }}
          </td>
        </tr>
      </tbody>
    </table>

    <div class="modal-action mt-5">
      <form method="dialog">
        <button class="btn">Close</button>
      </form>
      <button
        (click)="markAsReturned()"
        class="btn btn-primary flex gap-2 items-center"
        [disabled]="transaction.returned"
      >
        <span>Mark As Returned</span>
      </button>
    </div>
  </div>
</dialog>
