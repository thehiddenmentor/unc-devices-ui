<dialog id="edit-user-{{ user.id }}" class="modal">
  <form
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    class="modal-box w-11/12 max-w-5xl"
  >
    <h3 class="font-bold text-gray-800 text-lg">Edit User</h3>

    <div class="w-full grid grid-cols-2 mt-5">
      <div class="space-y-2">
        <label class="form-control w-full max-w-xs">
          <div class="label">
            <span class="label-text text-gray-800">Name:</span>
          </div>
          <input
            type="text"
            placeholder="ex. John Doe"
            class="input input-sm py-5 input-bordered w-full max-w-xs"
            formControlName="name"
            [ngClass]="
              f['name'].errors && f['name'].touched ? 'input-error' : ''
            "
          />
          @if (f['name'].errors && f['name'].touched) {
          <div class="label">
            @if (f['name'].errors['required']) {
            <span class="label-text-alt text-error"> Name is required </span>
            }
          </div>
          }
        </label>

        <label class="form-control w-full max-w-xs">
          <div class="label">
            <span class="label-text text-gray-800">Employee ID:</span>
          </div>
          <input
            type="text"
            placeholder="ex. 123-456-7"
            class="input input-sm py-5 input-bordered w-full max-w-xs"
            formControlName="employeeId"
            [ngClass]="
              f['employeeId'].touched && f['employeeId'].errors
                ? 'input-error'
                : ''
            "
          />
          @if (f['employeeId'].touched && f['employeeId'].errors) {
          <div class="label">
            @if (f['employeeId'].errors['required']) {
            <span class="label-text-alt text-error">
              Employee ID is required
            </span>
            } @if (f['employeeId'].errors['incorrect']) {
            <span class="label-text-alt text-error">
              Employee ID already exist
            </span>
            }
          </div>
          }
        </label>
      </div>

      <div class="space-y-2">
        <div class="mb-10">
          <label htmlFor="" class="label label-text text-gray-800 mb-2">
            What is the role of this account?
          </label>

          <div class="">
            <label class="flex gap-2 items-center cursor-pointer mb-2">
              <input
                type="radio"
                class="radio checked:bg-primary"
                value="SUPERADMIN"
                formControlName="role"
                [ngClass]="f['role'].errors ? 'input-error' : ''"
              />
              <span class="label-text">Superadmin</span>
            </label>
            <label class="flex gap-2 items-center cursor-pointer">
              <input
                type="radio"
                class="radio checked:bg-primary"
                value="ADMIN"
                formControlName="role"
                [ngClass]="f['role'].errors ? 'input-error' : ''"
              />
              <span class="label-text">Admin</span>
            </label>
          </div>
          @if ( f['role'].errors) {
          <div class="label">
            @if (f['role'].errors['required']) {
            <span class="label-text-alt text-error"> Role is required </span>
            }
          </div>
          }
        </div>

        <div>
          <div>
            <label class="label label-text text-gray-800 mb-2">
              Is this account active or not?
            </label>
            <div class="">
              <label class="flex gap-2 items-center cursor-pointer mb-2">
                <input
                  type="radio"
                  class="radio checked:bg-primary"
                  [value]="true"
                  formControlName="active"
                  checked
                  [ngClass]="f['active'].errors ? 'input-error' : ''"
                />
                <span class="label-text">Yes</span>
              </label>
              <label class="flex gap-2 items-center cursor-pointer">
                <input
                  type="radio"
                  class="radio checked:bg-primary"
                  [value]="false"
                  formControlName="active"
                  [ngClass]="f['active'].errors ? 'input-error' : ''"
                />
                <span class="label-text">No</span>
              </label>
              @if ( f['active'].errors) {
              <div class="label">
                @if (f['active'].errors['required']) {
                <span class="label-text-alt text-error">
                  This field is required
                </span>
                }
              </div>
              }
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-action">
      <form method="dialog">
        <button class="btn">Close</button>
      </form>

      <button type="submit" class="btn btn-primary">Edit Account</button>
    </div>
  </form>
</dialog>
